<html><head><meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"><title>Populate_Geometry_Columns</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><link rel="home" href="index.html" title="PostGIS 1.4 Manual"><link rel="up" href="ch07.html#Management_Functions" title="7.1. Management Functions"><link rel="prev" href="PostGIS_Version.html" title="PostGIS_Version"><link rel="next" href="Probe_Geometry_Columns.html" title="Probe_Geometry_Columns"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Populate_Geometry_Columns</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="PostGIS_Version.html">Prev</a> </td><th width="60%" align="center">7.1. Management Functions</th><td width="20%" align="right"> <a accesskey="n" href="Probe_Geometry_Columns.html">Next</a></td></tr></table><hr></div><div class="refentry" title="Populate_Geometry_Columns"><a name="Populate_Geometry_Columns"></a><div class="titlepage"></div><div class="refnamediv"><h2>Name</h2><p>Populate_Geometry_Columns &#8212; Ensures geometry columns have appropriate spatial constraints
		and exist in the <code class="varname">geometry_columns</code> table.</p></div><div class="refsynopsisdiv" title="Synopsis"><h2>Synopsis</h2><div class="funcsynopsis"><p><code class="funcdef">text <b class="fsfunc">Populate_Geometry_Columns</b>(</code><code>)</code>;</p><p><code class="funcdef">int <b class="fsfunc">Populate_Geometry_Columns</b>(</code>oid <var class="pdparam">relation_oid</var><code>)</code>;</p></div></div><div class="refsection" title="Description"><a name="id427592"></a><h2>Description</h2><p>Ensures geometry columns have appropriate spatial constraints and
		exist in the <code class="varname">geometry_columns</code> table.  In particular,
		this means that every geometry column belonging to a table has at least
		three constraints:</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p><code class="varname">enforce_dims_the_geom</code> - ensures every
			geometry has the same dimension (see <a class="xref" href="ST_NDims.html" title="ST_NDims">ST_NDims</a>)</p></li><li class="listitem"><p><code class="varname">enforce_geotype_the_geom</code> - ensures every
			geometry is of the same type (see <a class="xref" href="GeometryType.html" title="GeometryType">GeometryType</a>)</p></li><li class="listitem"><p><code class="varname">enforce_srid_the_geom</code> - ensures every
			geometry is in the same projection (see <a class="xref" href="ST_SRID.html" title="ST_SRID">ST_SRID</a>)</p></li></ul></div><p>If a table <code class="varname">oid</code> is provided, this function
		tries to determine the srid, dimension, and geometry type of all
		geometry columns in the table, adding contraints as necessary. If
		successful, an appropriate row is inserted into the geometry_columns
		table, otherwise, the exception is caught and an error notice is raised
		describing the problem.</p><p>If the <code class="varname">oid</code> of a view is provided, as with a
		table oid, this function tries to determine the srid, dimension, and
		type of all the geometries in the view, inserting appropriate entries
		into the <code class="varname">geometry_columns</code> table, but nothing is done
		to enforce contraints.</p><p>The parameterless variant is a simple wrapper for the parameterized
		variant that first truncates and repopulates the geometry_columns table
		for every spatial table and view in the database, adding spatial
		contraints to tables where appropriate.  It returns a summary of the
		number of geometry columns detected in the database and the number that
		were inserted into the <code class="varname">geometry_columns</code> table.  The
		parameterized version simply returns the number of rows inserted into
		the <code class="varname">geometry_columns</code> table.</p><p>Availability: 1.4.0</p></div><div class="refsection" title="Examples"><a name="id427687"></a><h2>Examples</h2><pre class="programlisting">SELECT Populate_Geometry_Columns('public.myspatial_table'::regclass);</pre></div><div class="refsection" title="See Also"><a name="id427699"></a><h2>See Also</h2><p><a class="xref" href="Probe_Geometry_Columns.html" title="Probe_Geometry_Columns">Probe_Geometry_Columns</a></p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="PostGIS_Version.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="ch07.html#Management_Functions">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="Probe_Geometry_Columns.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">PostGIS_Version </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> Probe_Geometry_Columns</td></tr></table></div></body></html>
